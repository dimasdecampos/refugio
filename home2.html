<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO Meta Tags -->
    <title>Refúgio Beira Rio SP - Escape na Natureza às Margens do Rio | Próximo a São Paulo</title>
    <meta name="description" content="Refúgio Beira Rio: seu escape perfeito às margens do rio em Natividade da Serra, SP. Tranquilidade, natureza exuberante e aventuras aquáticas a apenas 2h de São Paulo. Rafting, pesca, trilhas ribeirinhas e muito mais.">
    <meta name="keywords" content="refúgio beira rio sp, beira rio são paulo, turismo ribeirinho sp, rafting próximo sp, pousada beira rio, natureza rio sp, escape fim de semana sp, turismo fluvial sp, natividade da serra rio, aventura aquática sp, retiro beira rio, ecoturismo ribeirinho">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://refugiobeirario.com.br">
    <meta property="og:title" content="Refúgio Beira Rio SP - Escape na Natureza às Margens do Rio">
    <meta property="og:description" content="Seu refúgio perfeito às margens do rio em SP. Tranquilidade, aventuras aquáticas e natureza exuberante a apenas 2h de São Paulo.">
    <meta property="og:image" content="https://refugiobeirario.com.br/LOGO-NOVA.svg">
    <meta property="og:locale" content="pt_BR">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://refugiobeirario.com.br">
    <meta property="twitter:title" content="Refúgio Beira Rio SP - Escape na Natureza às Margens do Rio">
    <meta property="twitter:description" content="Seu refúgio perfeito às margens do rio em SP. Tranquilidade, aventuras aquáticas e natureza exuberante a apenas 2h de São Paulo.">
    <meta property="twitter:image" content="https://refugiobeirario.com.br/LOGO-NOVA.svg">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TouristAttraction",
        "name": "Refúgio Beira Rio",
        "description": "Refúgio exclusivo às margens do rio em Natividade da Serra, SP. Oferecemos tranquilidade, aventuras aquáticas, rafting e experiências ribeirinhas únicas a apenas 2 horas de São Paulo.",
        "url": "https://refugiobeirario.com.br",
        "telephone": "+5511933896026",
        "email": "dimasrafting@gmail.com",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Natividade da Serra",
            "addressRegion": "SP",
            "addressCountry": "BR"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "-23.4667",
            "longitude": "-45.4667"
        },
        "touristType": ["Turismo Ribeirinho", "Ecoturismo", "Turismo de Aventura", "Turismo Fluvial"],
        "amenityFeature": [
            {
                "@type": "LocationFeatureSpecification",
                "name": "Rafting",
                "value": true
            },
            {
                "@type": "LocationFeatureSpecification",
                "name": "Trilhas Ribeirinhas",
                "value": true
            },
            {
                "@type": "LocationFeatureSpecification",
                "name": "Beira Rio",
                "value": true
            },
            {
                "@type": "LocationFeatureSpecification",
                "name": "Pesca",
                "value": true
            },
            {
                "@type": "LocationFeatureSpecification",
                "name": "Atividades Aquáticas",
                "value": true
            }
        ],
        "sameAs": [
            "https://www.instagram.com/refugiobeirario/",
            "https://api.whatsapp.com/send?phone=5511933896026"
        ]
    }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <!-- Pannellum CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css">
 
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
            background: #000;
        }

        /* Loading Animation */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .logo-container {
            text-align: center;
            animation: logoFloat 2s ease-in-out infinite alternate;
        }

        .logo {
             width: 420px;
             height: auto;
             filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.8)) drop-shadow(0 0 10px rgba(0, 0, 0, 0.6));
             transition: transform 0.3s ease;
         }

        @keyframes logoFloat {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-10px); }
        }

        /* Main Container */
        .hero-section {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        /* Swiper Styles */
        .hero-swiper {
            width: 100%;
            height: 100%;
        }

        .swiper-slide {
            position: relative;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                45deg,
                rgba(0,0,0,0.4) 0%,
                rgba(0,0,0,0.2) 50%,
                rgba(0,0,0,0.4) 100%
            );
            z-index: 1;
        }

        /* Logo Fixed Position */
        .fixed-logo {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            opacity: 0;
            animation: fadeInDown 1s ease 2s forwards;
        }

        .fixed-logo::before {
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 280px;
            height: 100px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 0 0 20px 20px;
            z-index: -1;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .fixed-logo img {
             width: 220px;
             height: auto;
             filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.8)) drop-shadow(0 0 40px rgba(0, 0, 0, 0.6));
         }

        @keyframes fadeInDown {
            0% {
                opacity: 0;
                transform: translateX(-50%) translateY(-30px);
            }
            100% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }



        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateX(-50%) translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        /* Navigation Buttons */
        .swiper-button-next,
        .swiper-button-prev {
            width: 50px;
            height: 50px;
            background: rgba(5, 5, 5, 0.45);
            border-radius: 50%;
            color: white;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            opacity: 0;
            animation: fadeIn 1s ease 3s forwards;
        }

        .swiper-button-next:hover,
        .swiper-button-prev:hover {
            background: rgba(76, 175, 80, 0.45);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            transform: scale(1.1);
            box-shadow: 0 8px 32px rgba(76, 175, 80, 0.3);
            border: 1px solid rgba(76, 175, 80, 0.4);
        }

        .swiper-button-next::after,
        .swiper-button-prev::after {
            font-size: 16px;
            font-weight: bold;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* Pagination */
        .swiper-pagination {
            bottom: 30px;
            opacity: 0;
            animation: fadeIn 1s ease 3.5s forwards;
        }

        .swiper-pagination-bullet {
            width: 16px;
            height: 16px;
            background: rgba(5, 5, 5, 0.45);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            opacity: 0.8;
            margin: 0 5px;
            transition: all 0.3s ease;
        }

        .swiper-pagination-bullet-active {
            background: #4caf50;
            border-color: #4caf50;
            transform: scale(1.3);
            box-shadow: 0 0 15px rgba(76,175,80,0.6);
        }



        @keyframes fadeInRight {
            0% {
                opacity: 0;
                transform: translateX(30px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }



        @keyframes fadeInLeft {
            0% {
                opacity: 0;
                transform: translateX(-30px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
             .fixed-logo img {
                 width: 150px;
                 filter: drop-shadow(0 0 15px rgba(0, 0, 0, 0.8)) drop-shadow(0 0 30px rgba(0, 0, 0, 0.6));
             }

             .logo {
                 width: 300px;
                 filter: drop-shadow(0 0 25px rgba(0, 0, 0, 0.8)) drop-shadow(0 0 50px rgba(0, 0, 0, 0.6));
             }

             .logo-container {
                 padding: 40px;
                 max-width: 95%;
                 max-height: 95%;
             }

            .swiper-button-next,
            .swiper-button-prev {
                width: 40px;
                height: 40px;
                background: rgba(5, 5, 5, 0.45);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            }

            .swiper-button-next::after,
            .swiper-button-prev::after {
                font-size: 14px;
            }

            .swiper-pagination-bullet {
                width: 14px;
                height: 14px;
                margin: 0 3px;
                background: rgba(5, 5, 5, 0.45);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border: 2px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            }




        }

        @media (max-width: 480px) {
             .fixed-logo img {
                 width: 130px;
                 filter: drop-shadow(0 0 12px rgba(0, 0, 0, 0.8)) drop-shadow(0 0 25px rgba(0, 0, 0, 0.6));
             }

             .logo {
                 width: 240px;
                 filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.8)) drop-shadow(0 0 40px rgba(0, 0, 0, 0.6));
             }

             .logo-container {
                 width: 140px;
                 height: 65px;
                 padding: 10px;
                 display: flex;
                 align-items: center;
                 justify-content: center;
             }

             .fixed-logo::before {
                 width: 155px;
                 height: 70px;
                 top: -20px;
             }

            .hero-swiper {
                display: grid;
                grid-template-rows: 1fr 1fr 1fr;
                gap: 2px;
            }

            .swiper-wrapper {
                display: grid;
                grid-template-rows: 1fr 1fr 1fr;
                gap: 2px;
                height: 100%;
            }

            .swiper-slide {
                height: calc(33.33vh - 1.33px);
                position: relative;
            }

            .swiper-button-next,
            .swiper-button-prev {
                width: 35px;
                height: 35px;
                background: rgba(5, 5, 5, 0.45);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            }

            .swiper-pagination {
                bottom: 20px;
            }


            }


            

            .location-info {
                bottom: 15px;
                left: 15px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }
        

        /* Custom Swiper Effects */
        .swiper-slide-active {
            z-index: 2;
        }



        /* Hamburger Menu */
        .hamburger-menu {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
        }

        .hamburger-btn {
            background: rgba(0, 0, 0, 0.4);
            border: none;
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .hamburger-btn:hover {
            background: rgba(0, 0, 0, 0.6);
            transform: scale(1.05);
        }

        .hamburger-line {
            width: 24px;
            height: 3px;
            background: white;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .hamburger-btn.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .hamburger-btn.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        .hamburger-btn.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        .menu-dropdown {
            position: absolute;
            top: 60px;
            left: 0;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 8px;
            min-width: 200px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .menu-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: white;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
            text-decoration: none;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .menu-item i {
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        .menu-info {
            position: absolute;
            top: 60px;
            left: 220px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transform: translateX(-10px);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .menu-info.show {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }

        .menu-separator {
            height: 1px;
            background: rgba(255, 255, 255, 0.2);
            margin: 8px 16px;
        }

        .social-item {
            text-decoration: none;
            color: white;
        }

        /* 360 Photo Modal */
        .photo360-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .photo360-container {
            position: relative;
            width: 98%;
            height: 95%;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .photo360-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 40px;
            color: white;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            z-index: 10001;
        }

        .photo360-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .photo360-instructions {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 16px;
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 20px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            z-index: 10001;
        }

        /* Loading animation for 360 photo */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .photo360-close {
                top: 15px;
                right: 15px;
                font-size: 30px;
                width: 50px;
                height: 50px;
            }
            
            .photo360-instructions {
                font-size: 14px;
                padding: 8px 16px;
                top: 20px;
            }
        }

        .social-item:hover {
            color: white;
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="logo-container">
            <img src="LOGO-NOVA.svg" alt="Refúgio Beira Rio" class="logo">
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section">
        <!-- Fixed Logo -->
        <div class="fixed-logo">
            <img src="LOGO-NOVA.svg" alt="Refúgio Beira Rio">
        </div>

        <!-- Hamburger Menu -->
        <div class="hamburger-menu">
            <button class="hamburger-btn" id="hamburgerBtn">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </button>
            
            <div class="menu-dropdown" id="menuDropdown">
                <a href="https://maps.app.goo.gl/KPtGbsAjbQS3esEq5" target="_blank" class="menu-item" data-info="Natividade da Serra, SP">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Localização</span>
                </a>
                <div class="menu-item" data-info="(11)93389 6026 | dimasrafting@gmail.com">
                    <i class="fas fa-phone"></i>
                    <span>Contato</span>
                </div>
                <div class="menu-item" data-info="Site em construção">
                    <i class="fas fa-info-circle"></i>
                    <span>Informações</span>
                </div>
                <div class="menu-separator"></div>
                <a href="https://www.instagram.com/refugiobeirario/" target="_blank" class="menu-item social-item" data-info="Siga nosso Instagram">
                    <i class="fab fa-instagram"></i>
                    <span>Instagram</span>
                </a>
                
                <a href="https://api.whatsapp.com/send?phone=5511933896026" target="_blank" class="menu-item social-item" data-info="Fale conosco pelo WhatsApp">
                    <i class="fab fa-whatsapp"></i>
                    <span>WhatsApp</span>
                </a>
                <div class="menu-separator"></div>
                <div class="menu-item" id="view360Btn" data-info="Visualize nossa foto 360° interativa">
                    <i class="fas fa-globe"></i>
                    <span>Foto 360°</span>
                </div>
               
            </div>
            
            <div class="menu-info" id="menuInfo"></div>
        </div>

        <!-- Swiper -->
        <div class="swiper hero-swiper">
            <div class="swiper-wrapper" id="swiperWrapper">
                <!-- Slides will be generated dynamically -->
            </div>
            
            <!-- Navigation -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            
            <!-- Pagination -->
            <div class="swiper-pagination"></div>
        </div>


    </section>

    <!-- 360 Photo Modal -->
    <div class="photo360-modal" id="photo360Modal">
        <div id="photo360Container" class="photo360-container">
            <!-- Photo Sphere Viewer será inicializado aqui -->
        </div>
        <button class="photo360-close" id="photo360Close">&times;</button>
        <div class="photo360-instructions">
            Arraste para navegar 360° • Use o mouse para explorar • ESC para sair
        </div>
    </div>

    <!-- Hidden SEO Content -->
    <div style="position: absolute; left: -9999px; width: 1px; height: 1px; overflow: hidden;">
        <h1>Refúgio Beira Rio SP - Seu Escape Perfeito às Margens do Rio</h1>
        <h2>Tranquilidade e Aventura Ribeirinha a 2h de São Paulo</h2>
        <p>Bem-vindo ao Refúgio Beira Rio, seu santuário particular às margens de águas cristalinas em Natividade da Serra, SP. Localizado estrategicamente a apenas 2 horas da capital paulista, oferecemos a combinação perfeita entre tranquilidade ribeirinha e aventuras aquáticas emocionantes.</p>
        <p>Desconecte-se do estresse urbano e reconecte-se com a natureza em nosso refúgio exclusivo. Às margens do rio, você encontrará paz, serenidade e uma variedade de atividades aquáticas: rafting emocionante, pesca contemplativa, trilhas ribeirinhas, banhos refrescantes e momentos únicos de contemplação da natureza.</p>
        <p>Nossa localização privilegiada na beira do rio em Natividade da Serra proporciona acesso direto às águas limpas da Serra da Mantiqueira. O refúgio é ideal para casais em busca de romance, famílias querendo aventura, grupos de amigos e empresas que desejam eventos corporativos diferenciados em ambiente natural.</p>
        <p>Fácil acesso rodoviário a partir de São Paulo, Guarulhos, Taubaté, São José dos Campos e toda região do Vale do Paraíba. Venha descobrir por que somos considerados o melhor refúgio beira rio próximo à capital paulista.</p>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- Pannellum JS -->
    <script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
    
    <script>
        // Image array
        const images = [
            'img/IMG_20240316_064801.jpg',
            'img/IMG_20240329_104654.jpg',
            'img/IMG_20240602_075124.jpg',
            'img/IMG_20240602_075433.jpg',
            'img/IMG_20240716_143458.jpg',
            'img/IMG_20240721_143131.jpg',
            'img/IMG_20240721_143246.jpg',
            'img/IMG_20250125_171341.jpg',
            'img/IMG_20250309_103854.jpg',
            'img/IMG_20250315_105540.jpg',
            'img/IMG_20250315_105750.jpg',
            'img/IMG_20250502_161632.jpg',
            'img/IMG_20250504_142933.jpg',
            'img/IMG_20250504_143659.jpg',
            'img/IMG_20250504_143758.jpg',
            'img/IMG_20250615_124243.jpg',
            'img/IMG_20250629_122042.jpg',
            'img/IMG_20250713_142154.jpg',
            'img/IMG_20250713_142931.jpg'
        ];

        // Shuffle array function
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Create slides dynamically
        function createSlides() {
            const shuffledImages = shuffleArray(images);
            const swiperWrapper = document.getElementById('swiperWrapper');
            const isMobile = window.innerWidth <= 480;
            
            if (isMobile) {
                // For mobile, show first group of 3 images
                const firstGroup = mobileGroups[0] || shuffledImages.slice(0, 3);
                firstGroup.forEach((image, index) => {
                    const slide = document.createElement('div');
                    slide.className = 'swiper-slide';
                    slide.style.backgroundImage = `url('${image}')`;
                    slide.style.backgroundSize = 'cover';
                    slide.style.backgroundPosition = 'center';
                    slide.style.backgroundRepeat = 'no-repeat';
                    
                    // Add overlay
                    const overlay = document.createElement('div');
                    overlay.className = 'slide-overlay';
                    
                    slide.appendChild(overlay);
                    swiperWrapper.appendChild(slide);
                });
            } else {
                // For desktop, show all images
                shuffledImages.forEach((image, index) => {
                    const slide = document.createElement('div');
                    slide.className = 'swiper-slide';
                    slide.style.backgroundImage = `url('${image}')`;
                    slide.style.backgroundSize = 'cover';
                    slide.style.backgroundPosition = 'center';
                    slide.style.backgroundRepeat = 'no-repeat';
                    
                    // Add overlay
                    const overlay = document.createElement('div');
                    overlay.className = 'slide-overlay';
                    
                    slide.appendChild(overlay);
                    swiperWrapper.appendChild(slide);
                });
            }
        }

        // Mobile navigation variables
        let currentMobileGroup = 0;
        let mobileGroups = [];
        let isMobileLayout = false;

        // Initialize Swiper
        function initSwiper() {
            // Check if mobile
            isMobileLayout = window.innerWidth <= 480;
            
            if (isMobileLayout) {
                // Setup mobile navigation
                setupMobileNavigation();
                return null;
            }
            
            return new Swiper('.hero-swiper', {
                // Basic settings
                loop: true,
                speed: 1000,
                autoplay: {
                    delay: 4000,
                    disableOnInteraction: false,
                    pauseOnMouseEnter: true,
                    waitForTransition: true
                },
                
                // Effects
                effect: 'fade',
                fadeEffect: {
                    crossFade: true
                },
                
                // Performance
                preloadImages: true,
                updateOnWindowResize: true,
                

                
                // Navigation
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev'
                },
                
                // Pagination
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                    dynamicBullets: true,
                    dynamicMainBullets: 5
                },
                

                
                // Events
                on: {
                    init: function() {
                        console.log('Swiper initialized with', this.slides.length, 'slides');
                    },
                    resize: function() {
                        this.update();
                    }
                }
            });
        }

        // Setup mobile navigation
        function setupMobileNavigation() {
            // Create groups of 3 images
            const shuffledImages = shuffleArray(images);
            mobileGroups = [];
            for (let i = 0; i < shuffledImages.length; i += 3) {
                mobileGroups.push(shuffledImages.slice(i, i + 3));
            }
            
            // Setup navigation buttons
            const nextBtn = document.querySelector('.swiper-button-next');
            const prevBtn = document.querySelector('.swiper-button-prev');
            
            nextBtn.onclick = () => {
                currentMobileGroup = (currentMobileGroup + 1) % mobileGroups.length;
                updateMobileSlides();
            };
            
            prevBtn.onclick = () => {
                currentMobileGroup = currentMobileGroup === 0 ? mobileGroups.length - 1 : currentMobileGroup - 1;
                updateMobileSlides();
            };
        }

        // Update mobile slides
        function updateMobileSlides() {
            const swiperWrapper = document.getElementById('swiperWrapper');
            swiperWrapper.innerHTML = '';
            
            const currentGroup = mobileGroups[currentMobileGroup];
            currentGroup.forEach((image, index) => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                slide.style.backgroundImage = `url('${image}')`;
                slide.style.backgroundSize = 'cover';
                slide.style.backgroundPosition = 'center';
                slide.style.backgroundRepeat = 'no-repeat';
                
                // Add overlay
                const overlay = document.createElement('div');
                overlay.className = 'slide-overlay';
                
                slide.appendChild(overlay);
                swiperWrapper.appendChild(slide);
            });
        }

        // Preload images
        function preloadImages(images) {
            return Promise.all(
                images.map(src => {
                    return new Promise((resolve, reject) => {
                        const img = new Image();
                        img.onload = resolve;
                        img.onerror = reject;
                        img.src = src;
                    });
                })
            );
        }

        // Initialize everything
        async function init() {
            try {
                // Show loading for minimum 1 second
                const minLoadTime = new Promise(resolve => setTimeout(resolve, 1000));
                
                // Wait for minimum time
                await minLoadTime;
                
                // Create slides
                createSlides();
                
                // Initialize Swiper
                const swiper = initSwiper();
                window.swiper = swiper;
                
                // Hide loading overlay
                const loadingOverlay = document.getElementById('loadingOverlay');
                loadingOverlay.classList.add('hidden');
                
                // Preload remaining images in background
                const remainingImages = images.slice(5);
                preloadImages(remainingImages).catch(console.warn);
                
                console.log('Slideshow initialized successfully!');
                
            } catch (error) {
                console.error('Error initializing slideshow:', error);
                // Hide loading even if there's an error
                document.getElementById('loadingOverlay').classList.add('hidden');
            }
        }

        // Handle window resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                // Reinitialize if needed
                if (window.swiper) {
                    window.swiper.update();
                }
            }, 250);
        });

        // Start initialization when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        // 360 Photo Functionality - Pannellum
        const view360Btn = document.getElementById('view360Btn');
        const photo360Modal = document.getElementById('photo360Modal');
        const photo360Close = document.getElementById('photo360Close');
        const photo360Container = document.getElementById('photo360Container');
        
        let viewer = null;

        // Open 360 photo modal
        view360Btn.addEventListener('click', () => {
            photo360Modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            
            // Initialize Pannellum if not already initialized
            if (!viewer) {
                try {
                    // Check if pannellum is available
                    if (typeof pannellum === 'undefined') {
                        console.error('Pannellum library not loaded');
                        photo360Container.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #ff6b6b; font-size: 18px; text-align: center; padding: 20px;">Erro: Biblioteca não carregada.<br>Recarregue a página.</div>';
                        return;
                    }
                    
                    // Clear container and set up for pannellum
                    photo360Container.innerHTML = '';
                    photo360Container.style.width = '100%';
                    photo360Container.style.height = '100%';
                    
                    console.log('Initializing Pannellum...');
                    
                    // Direct load with 360.jpg
                      console.log('Loading 360.jpg...');
                      
                      try {
                          viewer = pannellum.viewer(photo360Container, {
                              "type": "equirectangular",
                              "panorama": "360.jpg",
                             "autoLoad": true,
                             "autoRotate": false,
                             "showControls": true,
                             "mouseZoom": true,
                             "showFullscreenCtrl": false,
                             "showZoomCtrl": true,
                             "keyboardZoom": false,
                             "draggable": true,
                             "disableKeyboardCtrl": true,
                             "crossOrigin": "anonymous"
                         });
                         
                         console.log('Pannellum viewer created with 360.jpg');
                          
                          viewer.on('load', function() {
                              console.log('360.jpg loaded successfully in Pannellum!');
                              const loadingIndicator = photo360Container.querySelector('.loading-indicator');
                              if (loadingIndicator) {
                                  loadingIndicator.style.display = 'none';
                              }
                          });
                          
                          viewer.on('error', function(err) {
                              console.error('Pannellum error with 360.jpg:', err);
                              photo360Container.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #ff6b6b; font-size: 18px; text-align: center; padding: 20px;">Erro ao carregar a foto 360°.<br>Verifique sua conexão e tente novamente.</div>';
                          });
                         
                     } catch (error) {
                         console.error('Error creating Pannellum viewer:', error);
                         photo360Container.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #ff6b6b; font-size: 18px; text-align: center; padding: 20px;">Erro ao inicializar visualizador 360°.<br>' + error.message + '</div>';
                     }

                    
                } catch (error) {
                    console.error('Failed to initialize Pannellum:', error);
                    photo360Container.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #ff6b6b; font-size: 18px; text-align: center; padding: 20px;">Erro ao inicializar visualizador 360°.</div>';
                }
            }
        });

        // Close 360 photo modal
        photo360Close.addEventListener('click', () => {
            photo360Modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        });

        // Close modal when clicking outside
        photo360Modal.addEventListener('click', (e) => {
            if (e.target === photo360Modal) {
                photo360Modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
        
        // Handle ESC key to close modal
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && photo360Modal.style.display === 'flex') {
                photo360Modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        // Hamburger Menu Functionality
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const menuDropdown = document.getElementById('menuDropdown');
        const menuInfo = document.getElementById('menuInfo');
        const menuItems = document.querySelectorAll('.menu-item');

        // Toggle menu dropdown
        hamburgerBtn.addEventListener('click', () => {
            hamburgerBtn.classList.toggle('active');
            menuDropdown.classList.toggle('active');
            
            // Hide info when closing menu
            if (!menuDropdown.classList.contains('active')) {
                menuInfo.classList.remove('show');
            }
        });

        // Show/hide info on hover
        menuItems.forEach(item => {
            item.addEventListener('mouseenter', () => {
                const info = item.getAttribute('data-info');
                if (info) {
                    menuInfo.textContent = info;
                    menuInfo.classList.add('show');
                }
            });

            item.addEventListener('mouseleave', () => {
                menuInfo.classList.remove('show');
            });

            // Also show info on click for mobile
            item.addEventListener('click', (e) => {
                // Only prevent default for non-link items
                if (!item.href || item.href === '#') {
                    e.preventDefault();
                }
                const info = item.getAttribute('data-info');
                if (info) {
                    menuInfo.textContent = info;
                    menuInfo.classList.add('show');
                }
            });
        });

        // Close menu when clicking outside
        let clickTimeout;
        document.addEventListener('click', (e) => {
            clearTimeout(clickTimeout);
            clickTimeout = setTimeout(() => {
                if (!hamburgerBtn.contains(e.target) && !menuDropdown.contains(e.target)) {
                    hamburgerBtn.classList.remove('active');
                    menuDropdown.classList.remove('active');
                    menuInfo.classList.remove('show');
                }
            }, 10);
        });
    </script>
</body>
</html>
